{"version":3,"sources":["assets\\scripts\\player_day.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\n\n@ccclass\nexport class Player extends cc.Component {\n\n    @property(cc.Node)\n    camera: cc.Node = null;\n\n    @property(cc.Node)\n    maplist: cc.Node = null;\n\n    @property(cc.Prefab)\n    sec0: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec1: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec2: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec3: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec4: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec5: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec6: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec7: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec8: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec9: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec10: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec11: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec12: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec13: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec14: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec15: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec16: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec17: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec18: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec19: cc.Prefab = null;\n    @property(cc.Prefab)\n    sec20: cc.Prefab = null;\n\n\n    @property(cc.Node)\n    Score: cc.Node = null;\n\n    @property(cc.Sprite)\n    Color: cc.Sprite = null;\n\n    @property(cc.Node)\n    coin_point : cc.Node = null;  \n    coin: number = 0;\n\n    @property(cc.Node)\n    bubble_banana : cc.Node = null; \n    banana: number = 0;\n\n    @property(cc.Node)\n    bubble_lego : cc.Node = null; \n    lego: number = 0;\n\n    @property(cc.Node)\n    bubble_powerup : cc.Node = null; \n    powerup: number = 0;\n\n    @property(cc.Prefab)\n    banana_Prefabs: cc.Prefab = null;\n    @property(cc.Prefab)\n    lego_Prefabs: cc.Prefab = null; \n\n    @property(cc.AudioClip)\n    player_jump : cc.AudioClip = null;\n    @property(cc.AudioClip)\n    get_coin : cc.AudioClip = null;\n    @property(cc.AudioClip)\n    get_B_L_bubble : cc.AudioClip = null;\n    @property(cc.AudioClip)\n    get_powerup_bubble : cc.AudioClip = null;\n    @property(cc.AudioClip)\n    put_bubble : cc.AudioClip = null;\n\n    @property(cc.AudioClip)\n    sharp_knife : cc.AudioClip = null; \n\n    @property(cc.AudioClip)\n    die_audio : cc.AudioClip = null; \n\n    debug_mode: boolean = true;\n    hidden: boolean = false;\n\n    private sec_list = [];\n\n    private dir: number = 0;\n    private prev_dir: number = 0;\n    private fly_state: number = 0;  // 0 for on ground, 1 for flying, -1 for falling\n    private on_floor: boolean = true;\n    private stick: boolean = false;\n    section_count = 0;      // on contact with marker, if section_count * 1920 < this.node.x: init next section and section_count ++\n\n    score: number = 0;\n\n    color: number = 0;\n    strip: number = 0;\n    base: number = 0;\n    last_x: number = 0.0;\n\n    // color info of new_tileset\n    color_list: any = {7: \"#2b3a67\",8: \"#496a81\",9: \"#66999b\", 10: \"#b3af8f\", 11: \"#ffc582\",\n    13:\"#1c3144\", 14: \"#596f62\", 15: \"#7ea16b\",16: \"#c3d898\",17: \"#70161d\",\n    19 :\"#edebd3\", 20 :\"#edebd3\", 21 :\"#da4167\", 22 :\"#f4d35e\", 23 :\"#f78664\", \n    25  :\"#562c2c\", 26 :\"#f2542d\", 27 :\"#f5dfbb\", 28 :\"#0e9595\", 29 :\"#127474\", \n    31 :\"#8e9aaf\", 32 :\"#cbc0d3\", 33 :\"#efd3d7\", 34 :\"#feeafa\", 35 :\"#dee2ff\" }\n\n    // LIFE-CYCLE CALLBACKS:\n\n    setcolor() {\n        //-----------player color----------------------\n        //random choose player color\n        this.strip = cc.find('Canvas/root').getComponent('root').color_strip;\n        this.base = 1 + 6*this.strip;\n        this.color = 1 + Math.floor(Math.random() * 4);\n        //console.log(this.base +  Math.floor(Math.random() * 5));\n        var color_str = this.color_list[this.base + this.color];\n        var color = new cc.Color(255,255,255);\n        this.Color.node.color = color.fromHEX(color_str);\n        //-------------------------------------------------\n    }\n\n    onLoad () {\n        this.setcolor();\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n        this.dir = 0;\n        this.section_count = 0;\n    }\n\n    onDestroy () {\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n    }\n\n    onBeginContact(contact, self, other){\n        // console.log(other.node.group);\n        var touch = contact.getWorldManifold().normal;\n        // console.log(\"hit node with color \" + other.node.getComponent(cc.TiledTile).gid);\n        if(other.tag == 1000){\n            //console.log(\"hit marker\");\n            if(this.node.x >= this.section_count*1920){\n                //console.log(\"init next section\");\n                this.section_count++;\n                var rand = Math.floor(Math.random() * Math.min(2+this.section_count/2, 21))\n                //console.log(rand);\n                //console.log(\"To instantiate: \" + this.sec_list[rand].name);\n                var next_section = cc.instantiate(this.sec_list[rand]);\n                next_section.x = 1920 * this.section_count;\n                next_section.y = 0;\n                this.maplist.addChild(next_section);\n            } //else console.log(this.node.x, this.section_count);\n        }else if(other.node.group == 'ground' || other.node.group == 'mound'){\n            console.log(other.node.group + \" (\" + touch.x + \", \" + touch.y + \")\")\n            if(touch.y && this.fly_state == -1){\n                this.stick = true;\n                this.fly_state = 0;\n                if(!this.on_floor && touch.y < 0) this.on_floor = true;\n            }\n\n            if(other.node.group == 'mound') {\n                if(other.node.getComponent(cc.TiledTile).gid == this.color + this.base && touch.x/* && !touch.y*/) {\n                    this.node.getChildByName('eye').active = false;\n                    this.hidden = true;\n                    // this.last_x = this.node.x;\n                }\n            }    \n        } else if(other.node.group == 'coin'){ // @@ \n            cc.audioEngine.playEffect(this.get_coin, false); \n            this.update_coin(1);\n            other.node.destroy();\n        }else if(other.node.group == 'bubble'){ // @@ \n\n            if(other.tag == 1){ // bubble banana\n                cc.audioEngine.playEffect(this.get_B_L_bubble, false); \n                this.update_banana(1);\n                other.node.destroy();\n           }else if(other.tag == 2){ // bubble lego\n                cc.audioEngine.playEffect(this.get_B_L_bubble, false); \n                this.update_lego(1);\n                other.node.destroy();\n           }else if(other.tag == 3){ // colorful bubble\n                cc.audioEngine.playEffect(this.get_powerup_bubble, false); \n                 this.update_powerup(1);\n                 other.node.destroy();\n             }\n        }else if(other.node.name == 'missile'){\n            // diee\n            // deploy white particles\n            this.die_particle();\n            //this.node.active = false;\n            this.scheduleOnce(() => {\n                cc.director.loadScene(\"lose\")\n            }, 0.3);\n        }else if((other.node.name[0] == 's'&&other.node.name[1] == 'h')||other.node.name == 'parent'){\n            // diee\n            // deploy white particles\n            if(other.node.name[0] == 's'){\n                cc.audioEngine.playEffect(this.sharp_knife, false);\n            }\n            this.die_particle();\n            this.scheduleOnce(() => {\n                cc.director.loadScene(\"lose\")\n            }, 0.3);\n        }\n\n    }\n    die_particle()\n    {\n        cc.audioEngine.playEffect(this.die_audio, false); \n        this.node.getChildByName('eye').active = false;\n        var explode=this.node.getChildByName(\"star_explode\");\n        explode.active = true;\n        explode.getComponent(cc.ParticleSystem).startColor= this.Color.node.color;\n        explode.getComponent(cc.ParticleSystem).endColor= this.Color.node.color;\n        explode.getComponent(cc.ParticleSystem).endColorVar= this.Color.node.color;\n        this.node.getChildByName('color').active = false;\n    }\n    onEndContact(contact, self, other) {\n        //a bug happens when the color of mound is same as the color of player, not solved yet \n        // fixed with mound. player should now check collisions with mound\n        if(this.getComponent(cc.RigidBody).linearVelocity.y != 0){\n            this.node.getChildByName('eye').active = true;\n            this.hidden = false;\n        }else if( other.node.group == 'mound') {\n            if(other.node.getComponent(cc.TiledTile).gid == this.color + this.base) {\n                this.node.getChildByName('eye').active = true;\n                this.hidden = false;\n            }\n        }\n    }\n\n    start () {\n        this.dir = 0;\n        this.sec_list = [this.sec0, this.sec1, this.sec2, this.sec3, this.sec4,this.sec5,this.sec6,this.sec7,this.sec8,this.sec9,this.sec10,this.sec11,this.sec12,this.sec13,this.sec14,this.sec15,this.sec16,this.sec17,this.sec18,this.sec19,this.sec20];\n        this.score = 0;\n        \n        //------------sparkle color------------------------\n        this.node.getChildByName(\"sparkle\").getComponent(cc.ParticleSystem).startColor= this.Color.node.color;\n        this.node.getChildByName(\"sparkle\").getComponent(cc.ParticleSystem).endColor= this.Color.node.color;\n        this.node.getChildByName(\"sparkle\").getComponent(cc.ParticleSystem).endColorVar= this.Color.node.color;\n        //-------------------------------------------------\n    }\n\n    update (dt) {\n        if(this.node.y <= -400){\n            // die\n            // deploy white particles\n            this.node.active = false;\n            this.scheduleOnce(() => {\n                cc.director.loadScene(\"lose\")\n            }, 0.3);\n        }\n        this.camera_track();\n        this.node.x += this.dir * 200 * dt;\n        if(this.fly_state == 1){\n            this.node.x -= this.prev_dir * 0.4;\n            this.fly_state = -1;\n        }else if(this.stick){\n            console.log(\"stick\");\n            this.node.x += this.prev_dir * 0.4;\n            this.stick = false;\n        }\n        this.node.scaleX = (this.dir >= 0) ? 1 : -1;\n        var dy = this.getComponent(cc.RigidBody).linearVelocity.y;\n        //----------sparkle emission rate is 0 when didnt move-----------------------------------------\n        if(this.dir!=0||dy>10) this.node.getChildByName(\"sparkle\").getComponent(cc.ParticleSystem).emissionRate=100;\n        else this.node.getChildByName(\"sparkle\").getComponent(cc.ParticleSystem).emissionRate=0;\n        //----------------------------------------------------\n\n        \n        \n        //---------player spin---------------\n        if((dy > 10) && this.dir == 1) this.spin_right();\n        else if((dy > 10) && this.dir == -1) this.spin_left();\n        else if(this.node.angle != 0) this.node.angle=0;\n        //------------------------------------\n\n        //--------score-------------------------------\n        this.score = (Math.round(this.node.x / 35) > this.score) ? Math.round(this.node.x / 35) : this.score;\n        this.Score.getComponent(cc.Label).string = this.score.toString();\n        //--------------------------------------------\n\n\n    }\n    spin_right(){\n        this.node.angle -= 12;\n    }\n    spin_left(){\n        this.node.angle += 12;\n    }\n\n    camera_track(){\n        if(this.fly_state && !this.dir) return;\n\n        if(this.node.x < 100) this.camera.x = 0;\n        else this.camera.x = this.node.x - 100;\n    }\n\n    onKeyDown(event){\n        \n        if(event.keyCode == cc.macro.KEY.space){\n            if(this.on_floor) this.jump();\n        }\n        if(event.keyCode == cc.macro.KEY.left){\n            this.dir = -1;\n            this.prev_dir = this.dir;\n        }\n        else if(event.keyCode == cc.macro.KEY.right){\n            this.dir = 1;\n            this.prev_dir = this.dir;\n        }\n        \n        if(event.keyCode == cc.macro.KEY.p){\n            cc.audioEngine.pauseAll();\n            cc.director.pause();\n        }else if(event.keyCode == cc.macro.KEY.r){\n            cc.audioEngine.resumeAll();\n            cc.director.resume();\n        }\n\n        if(event.keyCode == cc.macro.KEY.e && this.banana > 0 ){// put banana ##\n            cc.audioEngine.playEffect(this.put_bubble, false); \n            var banana_pre = cc.instantiate(this.banana_Prefabs);\n            banana_pre.x = this.node.x;\n            banana_pre.y = this.node.y;\n            cc.find(\"Canvas/root\").addChild(banana_pre);\n            this.update_banana(-1);\n        }else if(event.keyCode == cc.macro.KEY.w  && this.lego > 0){ //  put lego ##\n            cc.audioEngine.playEffect(this.put_bubble, false); \n            var lego_pre = cc.instantiate(this.lego_Prefabs);\n            lego_pre.x = this.node.x;\n            lego_pre.y = this.node.y-1;\n            cc.find(\"Canvas/root\").addChild(lego_pre);\n            this.update_lego(-1);\n        }\n    }\n    onKeyUp(event){\n        switch(event.keyCode){\n            case cc.macro.KEY.left:\n                this.dir = 0;\n                break;\n            case cc.macro.KEY.right:\n                this.dir = 0;               \n                break;\n        }\n    }\n\n    jump(){    \n        cc.audioEngine.playEffect(this.player_jump, false); \n        this.node.getComponent(cc.RigidBody).linearVelocity = cc.v2(0, 600);\n        this.fly_state = 1;\n        if(!this.debug_mode) this.on_floor = false;\n        console.log(this.prev_dir + \"fly state: \" + this.fly_state);\n    }\n    update_coin(number){  // @@ \n        this.coin += number;\n        this.coin_point.getComponent(cc.Label).string = this.coin.toString();\n    }\n    update_banana(number){  // @@ \n        this.banana += number;\n        this.bubble_banana.getComponent(cc.Label).string = this.banana.toString();\n    }\n    update_lego(number){  // @@ \n        this.lego += number;\n       this.bubble_lego.getComponent(cc.Label).string = this.lego.toString();\n    }\n    update_powerup(number){  // @@ \n        this.powerup += number;\n       this.bubble_powerup.getComponent(cc.Label).string = this.powerup.toString();\n    }\n}\n"]}